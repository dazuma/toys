repo: dazuma/toys
git_user_name: Daniel Azuma
git_user_email: dazuma@gmail.com
required_checks_timeout: 1800

modify_default_steps:
  gem:
    - name: build_yard
      uses_gems: redcarpet

gems:
  - name: toys
    gh_pages_directory: gems/toys
    gh_pages_version_var: version
    prepend_steps:
      - name: copy_core_docs
        type: tool
        tool: [copy-core-docs]
        outputs: [core-docs]
    modify_steps:
      - name: build_gem
        inputs: [copy_core_docs]
      - name: build_yard
        inputs: [copy_core_docs]
  - name: toys-core
    version_rb_path: lib/toys/core.rb
    gh_pages_directory: gems/toys-core
    gh_pages_version_var: version
  - name: toys-release
    gh_pages_directory: gems/toys-release

components:
  - name: common-tools
    version_rb_path: .lib/version.rb
    version_constant: Toys::CommonTools::VERSION

coordination_groups:
  - [toys, toys-core]
