<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Toys::Acceptor::Pattern
  
    &mdash; Toys
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Toys::Acceptor::Pattern";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (P)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Toys.html" title="Toys (module)">Toys</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Acceptor.html" title="Toys::Acceptor (module)">Acceptor</a></span></span>
     &raquo; 
    <span class="title">Pattern</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Toys::Acceptor::Pattern
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Base.html" title="Toys::Acceptor::Base (class)">Base</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Base.html" title="Toys::Acceptor::Base (class)">Base</a></span></li>
          
            <li class="next">Toys::Acceptor::Pattern</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/toys/acceptor.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>An acceptor that uses a regex to validate input. It also supports a
custom conversion function that generates the final value from the match
results.</p>


  </div>
</div>
<div class="tags">
  

</div>





  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="Base.html" title="Toys::Acceptor::Base (class)">Base</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Base.html#type_desc-instance_method" title="Toys::Acceptor::Base#type_desc (method)">#type_desc</a></span>, <span class='object_link'><a href="Base.html#well_known_spec-instance_method" title="Toys::Acceptor::Base#well_known_spec (method)">#well_known_spec</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(regex, converter = nil, type_desc: nil, well_known_spec: nil, &amp;block)  &#x21d2; Pattern </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a pattern acceptor.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Base.html" title="Toys::Acceptor::Base (class)">Base</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Base.html#suggestions-instance_method" title="Toys::Acceptor::Base#suggestions (method)">#suggestions</a></span>, <span class='object_link'><a href="Base.html#to_s-instance_method" title="Toys::Acceptor::Base#to_s (method)">#to_s</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(regex, converter = nil, type_desc: nil, well_known_spec: nil, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="" title="Toys::Acceptor::Pattern (class)">Pattern</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Create a pattern acceptor.</p>

<p>You must provide a regular expression (or any object that duck-types
<code>Regexp#match</code>) as a validator.</p>

<p>You may also optionally provide a converter, either as a proc or a
block. A converter must take as its arguments the values in the
<code>MatchData</code> returned from a successful regex match. That is, the first
argument is the original input string, and the remaining arguments are
the captures. The converter must return the final converted value.
If no converter is provided, no conversion is done and the input string
is returned.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>regex</span>
      
      
        <span class='type'>(<tt>Regexp</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Regular expression defining value values.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>converter</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>An optional converter function. May also be
given as a block. Note that the converter will be passed all
elements of the <code>MatchData</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>type_desc</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Type description string, shown in help.
Defaults to <span class='object_link'><a href="../Acceptor.html#DEFAULT_TYPE_DESC-constant" title="Toys::Acceptor::DEFAULT_TYPE_DESC (constant)">DEFAULT_TYPE_DESC</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>well_known_spec</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The well-known acceptor spec associated
with this acceptor, or <code>nil</code> for none.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>block</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A converter function, if not provided as a normal
parameter.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


229
230
231
232
233</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/toys/acceptor.rb', line 229</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_regex'>regex</span><span class='comma'>,</span> <span class='id identifier rubyid_converter'>converter</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>type_desc:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>well_known_spec:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='label'>type_desc:</span> <span class='id identifier rubyid_type_desc'>type_desc</span><span class='comma'>,</span> <span class='label'>well_known_spec:</span> <span class='id identifier rubyid_well_known_spec'>well_known_spec</span><span class='rparen'>)</span>
  <span class='ivar'>@regex</span> <span class='op'>=</span> <span class='id identifier rubyid_regex'>regex</span>
  <span class='ivar'>@converter</span> <span class='op'>=</span> <span class='id identifier rubyid_converter'>converter</span> <span class='op'>||</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


</div>

      <div id="footer">
  Generated on Wed Jan 31 22:53:06 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34 (ruby-3.3.0).
</div>

    </div>
  </body>
</html>